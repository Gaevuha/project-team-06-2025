{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/artists-api.js","../src/js/render-function.js","../src/js/modal.js"],"sourcesContent":["export default {\n    artists: document.querySelector('.list-artists'),\n    modalAlbumList: document.querySelector('.modal-list__album'),\n\n};","import axios from 'axios';\naxios.defaults.baseURL = 'https://sound-wave.b.goit.study/api';\n\nexport async function getArtists(currentPage = 1) {\n  const params = { limit: 8, page: currentPage };\n  const endPoint = `/artists`;\n\n  try {\n    const res = await axios.get(endPoint, { params });\n    return res.data;\n  } catch (error) {\n    console.error('Помилка при завантаженні артистів:', error.message);\n    throw error;\n  }\n}\n\nexport async function getArtistById(artistId) {\n  const endPoint = `/artists/${artistId}`;\n  try {\n    const res = await axios.get(endPoint);\n    console.log(res.data);\n    return res.data;\n  } catch (error) {\n    console.error('Помилка при отриманні артиста:', error.message);\n    throw error;\n  }\n}\n\nexport async function getArtistsAlbumsId(artistId) {\n  const endPoint = `/artists/${artistId}/albums`;\n  try {\n    const res = await axios.get(endPoint);\n    return res.data;\n  } catch (error) {\n    console.error('Помилка при отриманні альбомів артиста:', error.message);\n    throw error;\n  }\n}\n","import refs from './refs';\n\n\nexport async function createdModal(data) {\n  const {\n    _id,\n    strArtist,\n    strArtistThumb,\n    intFormedYear,\n    intMembers,\n    strCountry,\n    strGender,\n    strBiographyEN,\n    genres = [],\n    albumsList = []\n  } = data;\n\n  const genresMarkup = genres.map(\n    genre => `<li class=\"artist__genre-item\">${genre}</li>`\n  ).join('');\nconsole.log('genres:', genres);\n  const albumMarkup = albumsList.map(({ strAlbum, intYearReleased, tracks = [] }) => {\n    const tracksMarkup = tracks.map(({ strTrack, intDuration, movie }) => {\n      const durationMin = Math.floor(intDuration / 60000);\n      const durationSec = String(Math.floor((intDuration % 60000) / 1000)).padStart(2, '0');\n      const safeUrl = movie?.startsWith('http') ? movie : movie ? `https://${movie}` : '';\n\n      return `\n        <li class=\"track__row\">\n          <span class=\"track__title\">${strTrack}</span>\n          <span class=\"track__time\">${durationMin}:${durationSec}</span>\n          <span class=\"track__link\">\n            ${movie ? `<a href=\"${safeUrl}\" target=\"_blank\" aria-label=\"YouTube link\">\n              <svg class=\"icon-youtube\">\n                <use href=\"/img/sprite.svg#icon-youtube\"></use>\n              </svg>\n            </a>` : ''}\n          </span>\n        </li>\n      `;\n    }).join('');\n\n    return `\n      <li class=\"artist__genre-item\">\n        <p class=\"album__name\">${strAlbum} (${intYearReleased})</p>\n        <span>Track</span><span>Time</span><span>Link</span>\n        <ul class=\"album__track-list\">${tracksMarkup}</ul>\n      </li>\n    `;\n  }).join('');\n\n  const markup = `\n    <li class=\"artists__item\" data-id=\"${_id}\">\n      <p class=\"artists__name\">${strArtist}</p>\n      <div class=\"wrap-artists__image\" style=\"background-image: url('${strArtistThumb}');\"></div>\n      <div class=\"artist__info\">\n        <p class=\"year\">Years active <span class=\"artist__info-value\">${intFormedYear}–present</span></p>\n        <p class=\"gender\">Sex <span class=\"artist__info-value\">${strGender}</span></p>\n        <p class=\"members\">Members <span class=\"artist__info-value\">${intMembers}</span></p>\n        <p class=\"country\">Country <span class=\"artist__info-value\">${strCountry}</span></p>\n        <p class=\"title__biography\">Biography</p>\n        <p class=\"artists__biography\">${strBiographyEN}</p>\n      </div>\n      <ul class=\"artists__genres-list\">${genresMarkup}</ul>\n      <p class=\"title__albums-modal\">Albums</p>\n      <ul class=\"modal__album-list\">${albumMarkup}</ul>\n    </li>\n  `;\n\n  refs.modalAlbumList.innerHTML = markup;\n}\n","import refs from './refs.js';\nimport { getArtists, getArtistsAlbumsId, getArtistById } from './artists-api.js';\nimport { createdModal } from './render-function.js';\n\nconst artistId = '65ada5b8af9f6d155db4806b';\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  try {\n    const artistData = await getArtistById(artistId); \n    const response = await getArtists();\n\n    const artistsList = response.artists || [];\n    const artistWithGenres = artistsList.find(artist => artist._id === artistId);\n    const genres = artistWithGenres?.genres || [];\n\n    const { albumsList = [] } = await getArtistsAlbumsId(artistId);\n\n    const fullArtistData = { ...artistData, genres, albumsList };\n    createdModal(fullArtistData);\n\n  } catch (error) {\n    console.error('Помилка при завантаженні артиста або альбомів:', error.message);\n  }\n});"],"names":["refs","axios","getArtists","currentPage","params","endPoint","error","getArtistById","artistId","res","getArtistsAlbumsId","createdModal","data","_id","strArtist","strArtistThumb","intFormedYear","intMembers","strCountry","strGender","strBiographyEN","genres","albumsList","genresMarkup","genre","albumMarkup","strAlbum","intYearReleased","tracks","tracksMarkup","strTrack","intDuration","movie","durationMin","durationSec","safeUrl","markup","artistData","artistWithGenres","artist","fullArtistData"],"mappings":"svBAAA,MAAeA,EAAA,CACX,QAAS,SAAS,cAAc,eAAe,EAC/C,eAAgB,SAAS,cAAc,oBAAoB,CAE/D,ECHAC,EAAM,SAAS,QAAU,sCAElB,eAAeC,EAAWC,EAAc,EAAG,CAChD,MAAMC,EAAS,CAAE,MAAO,EAAG,KAAMD,CAAW,EACtCE,EAAW,WAEjB,GAAI,CAEF,OADY,MAAMJ,EAAM,IAAII,EAAU,CAAE,OAAAD,CAAM,CAAE,GACrC,IACZ,OAAQE,EAAO,CACd,cAAQ,MAAM,qCAAsCA,EAAM,OAAO,EAC3DA,CACP,CACH,CAEO,eAAeC,EAAcC,EAAU,CAC5C,MAAMH,EAAW,YAAYG,CAAQ,GACrC,GAAI,CACF,MAAMC,EAAM,MAAMR,EAAM,IAAII,CAAQ,EACpC,eAAQ,IAAII,EAAI,IAAI,EACbA,EAAI,IACZ,OAAQH,EAAO,CACd,cAAQ,MAAM,iCAAkCA,EAAM,OAAO,EACvDA,CACP,CACH,CAEO,eAAeI,EAAmBF,EAAU,CACjD,MAAMH,EAAW,YAAYG,CAAQ,UACrC,GAAI,CAEF,OADY,MAAMP,EAAM,IAAII,CAAQ,GACzB,IACZ,OAAQC,EAAO,CACd,cAAQ,MAAM,0CAA2CA,EAAM,OAAO,EAChEA,CACP,CACH,CClCO,eAAeK,EAAaC,EAAM,CACvC,KAAM,CACJ,IAAAC,EACA,UAAAC,EACA,eAAAC,EACA,cAAAC,EACA,WAAAC,EACA,WAAAC,EACA,UAAAC,EACA,eAAAC,EACA,OAAAC,EAAS,CAAE,EACX,WAAAC,EAAa,CAAE,CAChB,EAAGV,EAEEW,EAAeF,EAAO,IAC1BG,GAAS,kCAAkCA,CAAK,OACpD,EAAI,KAAK,EAAE,EACX,QAAQ,IAAI,UAAWH,CAAM,EAC3B,MAAMI,EAAcH,EAAW,IAAI,CAAC,CAAE,SAAAI,EAAU,gBAAAC,EAAiB,OAAAC,EAAS,CAAA,KAAS,CACjF,MAAMC,EAAeD,EAAO,IAAI,CAAC,CAAE,SAAAE,EAAU,YAAAC,EAAa,MAAAC,KAAY,CACpE,MAAMC,EAAc,KAAK,MAAMF,EAAc,GAAK,EAC5CG,EAAc,OAAO,KAAK,MAAOH,EAAc,IAAS,GAAI,CAAC,EAAE,SAAS,EAAG,GAAG,EAC9EI,EAAUH,GAAA,MAAAA,EAAO,WAAW,QAAUA,EAAQA,EAAQ,WAAWA,CAAK,GAAK,GAEjF,MAAO;AAAA;AAAA,uCAE0BF,CAAQ;AAAA,sCACTG,CAAW,IAAIC,CAAW;AAAA;AAAA,cAElDF,EAAQ,YAAYG,CAAO;AAAA;AAAA;AAAA;AAAA,kBAIrB,EAAE;AAAA;AAAA;AAAA,OAItB,CAAK,EAAE,KAAK,EAAE,EAEV,MAAO;AAAA;AAAA,iCAEsBT,CAAQ,KAAKC,CAAe;AAAA;AAAA,wCAErBE,CAAY;AAAA;AAAA,KAGpD,CAAG,EAAE,KAAK,EAAE,EAEJO,EAAS;AAAA,yCACwBvB,CAAG;AAAA,iCACXC,CAAS;AAAA,uEAC6BC,CAAc;AAAA;AAAA,wEAEbC,CAAa;AAAA,iEACpBG,CAAS;AAAA,sEACJF,CAAU;AAAA,sEACVC,CAAU;AAAA;AAAA,wCAExCE,CAAc;AAAA;AAAA,yCAEbG,CAAY;AAAA;AAAA,sCAEfE,CAAW;AAAA;AAAA,IAI/CzB,EAAK,eAAe,UAAYoC,CAClC,CClEA,MAAM5B,EAAW,2BAEjB,SAAS,iBAAiB,mBAAoB,SAAY,CACxD,GAAI,CACF,MAAM6B,EAAa,MAAM9B,EAAcC,CAAQ,EAIzC8B,IAHW,MAAMpC,KAEM,SAAW,IACH,KAAKqC,GAAUA,EAAO,MAAQ/B,CAAQ,EACrEa,GAASiB,GAAA,YAAAA,EAAkB,SAAU,GAErC,CAAE,WAAAhB,EAAa,CAAE,CAAA,EAAK,MAAMZ,EAAmBF,CAAQ,EAEvDgC,EAAiB,CAAE,GAAGH,EAAY,OAAAhB,EAAQ,WAAAC,CAAU,EAC1DX,EAAa6B,CAAc,CAE5B,OAAQlC,EAAO,CACd,QAAQ,MAAM,iDAAkDA,EAAM,OAAO,CAC9E,CACH,CAAC"}